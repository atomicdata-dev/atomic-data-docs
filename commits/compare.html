<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Atomic Commits compared to other (RDF) delta models</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documentation for the Atomic Data standard.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../open-in.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../atomic-data-overview.html"><strong aria-hidden="true">1.</strong> Atomic Data Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../motivation.html"><strong aria-hidden="true">1.1.</strong> Motivation</a></li><li class="chapter-item expanded "><a href="../roadmap.html"><strong aria-hidden="true">1.2.</strong> Strategy, history and roadmap</a></li><li class="chapter-item expanded "><a href="../when-to-use.html"><strong aria-hidden="true">1.3.</strong> When (not) to use it</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Specification (core)</li><li class="chapter-item expanded "><a href="../core/concepts.html"><strong aria-hidden="true">2.</strong> What is Atomic Data?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../core/serialization.html"><strong aria-hidden="true">2.1.</strong> Serialization</a></li><li class="chapter-item expanded "><a href="../core/json-ad.html"><strong aria-hidden="true">2.2.</strong> JSON-AD</a></li><li class="chapter-item expanded "><a href="../core/querying.html"><strong aria-hidden="true">2.3.</strong> Querying</a></li><li class="chapter-item expanded "><a href="../core/paths.html"><strong aria-hidden="true">2.4.</strong> Paths</a></li><li class="chapter-item expanded "><a href="../schema/intro.html"><strong aria-hidden="true">2.5.</strong> Schema</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../schema/classes.html"><strong aria-hidden="true">2.5.1.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../schema/datatypes.html"><strong aria-hidden="true">2.5.2.</strong> Datatypes</a></li><li class="chapter-item expanded "><a href="../schema/faq.html"><strong aria-hidden="true">2.5.3.</strong> FAQ</a></li></ol></li></ol></li><li class="chapter-item expanded "><li class="part-title">Specification (extended)</li><li class="chapter-item expanded "><a href="../extended.html"><strong aria-hidden="true">3.</strong> Atomic Data Extended</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../agents.html"><strong aria-hidden="true">3.1.</strong> Agents</a></li><li class="chapter-item expanded "><a href="../hierarchy.html"><strong aria-hidden="true">3.2.</strong> Hierarchy and authorization</a></li><li class="chapter-item expanded "><a href="../authentication.html"><strong aria-hidden="true">3.3.</strong> Authentication</a></li><li class="chapter-item expanded "><a href="../invitations.html"><strong aria-hidden="true">3.4.</strong> Invitations and sharing</a></li><li class="chapter-item expanded "><a href="../commits/intro.html"><strong aria-hidden="true">3.5.</strong> Commits (writing data)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../commits/concepts.html"><strong aria-hidden="true">3.5.1.</strong> Concepts</a></li><li class="chapter-item expanded "><a href="../commits/compare.html" class="active"><strong aria-hidden="true">3.5.2.</strong> Compared to</a></li></ol></li><li class="chapter-item expanded "><a href="../websockets.html"><strong aria-hidden="true">3.6.</strong> WebSockets</a></li><li class="chapter-item expanded "><a href="../endpoints.html"><strong aria-hidden="true">3.7.</strong> Endpoints</a></li><li class="chapter-item expanded "><a href="../schema/collections.html"><strong aria-hidden="true">3.8.</strong> Collections, filtering, sorting</a></li><li class="chapter-item expanded "><a href="../files.html"><strong aria-hidden="true">3.9.</strong> Uploading and downloading files</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Create Atomic Data</li><li class="chapter-item expanded "><a href="../atomizing.html"><strong aria-hidden="true">4.</strong> Atomizing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../atomic-server.html"><strong aria-hidden="true">4.1.</strong> Using Atomic-Server</a></li><li class="chapter-item expanded "><a href="../create-json-ad.html"><strong aria-hidden="true">4.2.</strong> Creating a JSON-AD file</a></li><li class="chapter-item expanded "><a href="../interoperability/upgrade.html"><strong aria-hidden="true">4.3.</strong> Upgrade your existing project</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Use Atomic Data</li><li class="chapter-item expanded "><a href="../interoperability/intro.html"><strong aria-hidden="true">5.</strong> Interoperability and comparisons</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../interoperability/rdf.html"><strong aria-hidden="true">5.1.</strong> RDF</a></li><li class="chapter-item expanded "><a href="../interoperability/solid.html"><strong aria-hidden="true">5.2.</strong> Solid</a></li><li class="chapter-item expanded "><a href="../interoperability/json.html"><strong aria-hidden="true">5.3.</strong> JSON</a></li><li class="chapter-item expanded "><a href="../interoperability/ipfs.html"><strong aria-hidden="true">5.4.</strong> IPFS</a></li><li class="chapter-item expanded "><a href="../interoperability/sql.html"><strong aria-hidden="true">5.5.</strong> SQL</a></li><li class="chapter-item expanded "><a href="../interoperability/graph-database.html"><strong aria-hidden="true">5.6.</strong> Graph Databases</a></li></ol></li><li class="chapter-item expanded "><a href="../usecases/intro.html"><strong aria-hidden="true">6.</strong> Potential use cases</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../usecases/headless-cms.html"><strong aria-hidden="true">6.1.</strong> As a Headless CMS</a></li><li class="chapter-item expanded "><a href="../usecases/react.html"><strong aria-hidden="true">6.2.</strong> In a React project</a></li><li class="chapter-item expanded "><a href="../usecases/personal-data-store.html"><strong aria-hidden="true">6.3.</strong> Personal Data Store</a></li><li class="chapter-item expanded "><a href="../usecases/ai.html"><strong aria-hidden="true">6.4.</strong> Artificial Intelligence</a></li><li class="chapter-item expanded "><a href="../usecases/e-commerce.html"><strong aria-hidden="true">6.5.</strong> E-commerce & marketplaces</a></li><li class="chapter-item expanded "><a href="../usecases/surveys.html"><strong aria-hidden="true">6.6.</strong> Surveys</a></li><li class="chapter-item expanded "><a href="../usecases/verifiable-credentials.html"><strong aria-hidden="true">6.7.</strong> Verifiable Credentials</a></li><li class="chapter-item expanded "><a href="../usecases/data-catalog.html"><strong aria-hidden="true">6.8.</strong> Data Catalog</a></li><li class="chapter-item expanded "><a href="../usecases/education.html"><strong aria-hidden="true">6.9.</strong> Education</a></li><li class="chapter-item expanded "><a href="../usecases/food-labels.html"><strong aria-hidden="true">6.10.</strong> Food labels</a></li></ol></li><li class="chapter-item expanded "><a href="../tooling.html"><strong aria-hidden="true">7.</strong> Software and libraries</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../acknowledgements.html">Acknowledgements</a></li><li class="chapter-item expanded affix "><a href="../newsletter.html">Newsletter</a></li><li class="chapter-item expanded affix "><a href="../get-involved.html">Get involved</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Atomic Data Docs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/atomicdata-dev/atomic-data-docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="atomic-commits-compared-to-other-rdf-delta-models"><a class="header" href="#atomic-commits-compared-to-other-rdf-delta-models">Atomic Commits compared to other (RDF) delta models</a></h1>
<p>Let's compare the <a href="concepts.html">Atomic Commit</a> approach with some existing protocols for communicating state changes / patches / mutations / deltas in linked data, JSON and text files.
First, I'll briefly discuss the existing examples (<a href="https://github.com/ontola/atomic-data/issues">open a PR / issue</a> if we're missing something!).
After that, we'll discuss how Atomic Data differs from the existing ones.</p>
<h2 id="git"><a class="header" href="#git">Git</a></h2>
<p>This might be an odd one in this list, but it is an interesting one nonetheless.
Git is an incredibly popular version control system that is used by most software developers to manage their code.
It's a decentralized concept which allows multiple computers to share a log of <em>commits</em>, which together represent a folder with its files and its history.
It uses hashing to represent (parts of) data (which keeps the <code>.git</code> folder compact through deduplication), and uses cryptographic keys to sign commits and verify authorship.
It is designed to work in the paradigm of text files, newlines and folders.
Since most data <em>can</em> be represented as text files in a folder, Git is very flexible.
This is partly because people are familiar with Git, but also because it has a great ecosystem - platforms such as Github provide a clean UI, cloud storage, issue tracking, authorization, authentication and more <em>for free</em>, as long as you use Git to manage your versions.</p>
<p>However, Git doesn't work great for structured data - especially when it changes a lot.
Git, on its own, does not perform any validations on integrity of data.
Git also does not adhere to some standardized serialization format for storing commits, which makes sense, because it was designed as a tool to solve a problem, and not as some standard that is to be used in various other systems.
Also, git is kind of a heavyweight abstraction for many applications.
It is designed for collaborating on open source projects, which means dealing with decentralized data storage and merge conflicts - things that might not be required in other kinds of scenarios.</p>
<h2 id="rdf-mutation-systems"><a class="header" href="#rdf-mutation-systems">RDF mutation systems</a></h2>
<p>Let's move on to specifications that mutate RDF specifically:</p>
<h3 id="n3-patch"><a class="header" href="#n3-patch">.n3 Patch</a></h3>
<p>N3 Patch is <a href="https://solidproject.org/TR/protocol#writing-resources">part of the Solid spec</a>, since december 2021.</p>
<p>It uses the N3 serialization format to describe changes to RDF documents.</p>
<pre><code>@prefix solid: &lt;http://www.w3.org/ns/solid/terms#&gt;

&lt;&gt; solid:patches &lt;https://tim.localhost:7777/read-write.ttl&gt;;
   solid:where   { ?a &lt;y&gt; &lt;z&gt;. };
   solid:inserts { ?a &lt;y&gt; &lt;z&gt;. };
   solid:deletes { ?a &lt;b&gt; &lt;c&gt;. }.
</code></pre>
<h3 id="rdf-delta"><a class="header" href="#rdf-delta">RDF-Delta</a></h3>
<p><a href="https://afs.github.io/rdf-delta/">https://afs.github.io/rdf-delta/</a></p>
<p>Describes changes (RDF Patches) in a specialized turtle-like serialization format.</p>
<pre><code>TX .
PA &quot;rdf&quot; &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; .
PA &quot;owl&quot; &quot;http://www.w3.org/2002/07/owl#&quot; .
PA &quot;rdfs&quot; &quot;http://www.w3.org/2000/01/rdf-schema#&quot; .
A &lt;http://example/SubClass&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .
A &lt;http://example/SubClass&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://example/SUPER_CLASS&gt; .
A &lt;http://example/SubClass&gt; &lt;http://www.w3.org/2000/01/rdf-schema#label&gt; &quot;SubClass&quot; .
TC .
</code></pre>
<p>Similar to Atomic Commits, these Delta's should have identifiers (URLs), which are denoted in a header.</p>
<h3 id="delta-ld"><a class="header" href="#delta-ld">Delta-LD</a></h3>
<p><a href="">http://www.tara.tcd.ie/handle/2262/91407</a></p>
<p>Spec for classifying and representing state changes between two RDF resources.
I wasn't able to find a serialization or an implementation for this.</p>
<h3 id="patchr"><a class="header" href="#patchr">PatchR</a></h3>
<p><a href="">https://www.igi-global.com/article/patchr/135561</a></p>
<p>An ontology for RDF change <em>requests</em>.
Looks very interesting, but I'm not able to find any implementations.</p>
<pre><code class="language-turtle">prefix :      &lt;http://example.org/&gt; .
@prefix rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix pat:  &lt;http://purl.org/hpi/patchr#&gt; .
@prefix guo:  &lt;http://webr3.org/owl/guo#&gt; .
@prefix prov: &lt;http://purl.org/net/provenance/ns#&gt; .
@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix dbp:  &lt;http://dbpedia.org/resource/&gt; .
@prefix dbo:  &lt;http://dbpedia.org/ontology/&gt; .

:Patch_15 a pat:Patch ;
  pat:appliesTo &lt;http://dbpedia.org/void.ttl#DBpedia_3.5&gt; ;
  pat:status pat:Open ;
  pat:update [
    a guo:UpdateInstruction ;
    guo:target_graph &lt;http://dbpedia.org/&gt; ;
    guo:target_subject dbp:Oregon ;
    guo:delete [dbo:language dbp:De_jure ] ;
    guo:insert [dbo:language dbp:English_language ]
  ] ;
  prov:wasGeneratedBy [a prov:Activity ;
  pat:confidence &quot;0.5&quot;^^xsd:decimal ;
  prov:wasAssociatedWith :WhoKnows ;
  prov:actedOnBehalfOf :WhoKnows#Player_25 ;
  prov:performedAt &quot;...&quot;^^xsd:dateTime ] .
</code></pre>
<h3 id="ld-patch"><a class="header" href="#ld-patch">LD-Patch</a></h3>
<p><a href="">https://www.w3.org/TR/ldpatch/</a></p>
<p>This offers quite a few features besides adding and deleting triples, such as updating lists.
It's a unique serialization format, inspired by turtle.
Some implementations exists, such as one in <a href="https://github.com/ruby-rdf/ld-patch">ruby</a> which is</p>
<pre><code>PATCH /timbl HTTP/1.1
Host: example.org
Content-Length: 478
Content-Type: text/ldpatch
If-Match: &quot;abc123&quot;

@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix profile: &lt;http://ogp.me/ns/profile#&gt; .
@prefix ex: &lt;http://example.org/vocab#&gt; .

Delete { &lt;#&gt; profile:first_name &quot;Tim&quot; } .
Add {
  &lt;#&gt; profile:first_name &quot;Timothy&quot; ;
    profile:image &lt;https://example.org/timbl.jpg&gt; .
} .

Bind ?workLocation &lt;#&gt; / schema:workLocation .
Cut ?workLocation .

UpdateList &lt;#&gt; ex:preferredLanguages 1..2 ( &quot;fr-CH&quot; ) .

Bind ?event &lt;#&gt; / schema:performerIn [ / schema:url = &lt;https://www.w3.org/2012/ldp/wiki/F2F5&gt; ]  .
Add { ?event rdf:type schema:Event } .

Bind ?ted &lt;http://conferences.ted.com/TED2009/&gt; / ^schema:url ! .
Delete { ?ted schema:startDate &quot;2009-02-04&quot; } .
Add {
  ?ted schema:location [
    schema:name &quot;Long Beach, California&quot; ;
    schema:geo [
      schema:latitude &quot;33.7817&quot; ;
      schema:longitude &quot;-118.2054&quot;
    ]
  ]
} .
</code></pre>
<h3 id="linked-delta"><a class="header" href="#linked-delta">Linked-Delta</a></h3>
<p><a href="">https://github.com/ontola/linked-delta</a></p>
<p>An N-Quads serialized delta format.
Methods are URLs, which means they are extensible.
Does not specify how to bundle lines.
Used in production of a web app that we're working on (<a href="https://argu.co">Argu.co</a>).
Designed with simplicity (no new serialization format, simple to parse) and performance in mind by my colleague Thom van Kalkeren.</p>
<pre><code>Initial state:

&lt;http://example.org/resource&gt; &lt;http://example.org/predicate&gt; &quot;Old value 🙈&quot; .

Linked-Delta:

&lt;http://example.org/resource&gt; &lt;http://example.org/predicate&gt; &quot;New value 🐵&quot; &lt;http://purl.org/linked-delta/replace&gt; .

New state:

&lt;http://example.org/resource&gt; &lt;http://example.org/predicate&gt; &quot;New value 🐵&quot; .
</code></pre>
<h3 id="json-ld-patch"><a class="header" href="#json-ld-patch">JSON-LD-PATCH</a></h3>
<p><a href="">https://github.com/digibib/ls.ext/wiki/JSON-LD-PATCH</a></p>
<p>A JSON denoted patch notation for RDF.
Seems similar to the <a href="https://www.w3.org/TR/rdf-json/">RDF/JSON</a> serialization format.
Uses string literals as operators / methods.
Conceptually perhaps most similar to linked-delta.</p>
<p>Has a <a href="https://developer.aliyun.com/mirror/npm/package/jsonld-patch">JS implementation</a>.</p>
<pre><code>[
  {
    &quot;op&quot;: &quot;add&quot;,
    &quot;s&quot;: &quot;http://example.org/my/resource&quot;,
    &quot;p&quot;: &quot;http://example.org/ontology#title&quot;,
    &quot;o&quot;: {
      &quot;value&quot;: &quot;New Title&quot;,
      &quot;type&quot;: &quot;http://www.w3.org/2001/XMLSchema#string&quot;
    }
  }
]
</code></pre>
<h3 id="sparql-update"><a class="header" href="#sparql-update">SPARQL UPDATE</a></h3>
<p><a href="">https://www.w3.org/TR/sparql11-update/</a></p>
<p>SPARQL queries that change data.</p>
<pre><code class="language-sparql">PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
INSERT DATA
{
  &lt;http://example/book1&gt; dc:title &quot;A new book&quot; ;
                         dc:creator &quot;A.N.Other&quot; .
}
</code></pre>
<p>Allows for very powerful queries, combined with updates.
E.g. rename all persons named <code>Bill</code> to <code>William</code>:</p>
<pre><code>PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;

WITH &lt;http://example/addresses&gt;
DELETE { ?person foaf:givenName 'Bill' }
INSERT { ?person foaf:givenName 'William' }
WHERE
  { ?person foaf:givenName 'Bill'
  }
</code></pre>
<p>SPARQL Update is the most powerful of the formats, but also perhaps the most difficult to implement and understand.</p>
<h2 id="json-patch"><a class="header" href="#json-patch">JSON-PATCH</a></h2>
<p><a href="">http://jsonpatch.com/</a></p>
<p>A simple way to edit JSON objects:</p>
<pre><code>The original document

{
  &quot;baz&quot;: &quot;qux&quot;,
  &quot;foo&quot;: &quot;bar&quot;
}

The patch

[
  { &quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/baz&quot;, &quot;value&quot;: &quot;boo&quot; },
  { &quot;op&quot;: &quot;add&quot;, &quot;path&quot;: &quot;/hello&quot;, &quot;value&quot;: [&quot;world&quot;] },
  { &quot;op&quot;: &quot;remove&quot;, &quot;path&quot;: &quot;/foo&quot; }
]

The result

{
  &quot;baz&quot;: &quot;boo&quot;,
  &quot;hello&quot;: [&quot;world&quot;]
}
</code></pre>
<p>It uses the <a href="http://tools.ietf.org/html/rfc6901">JSON-Pointer spec</a> for denoting <code>path</code>s.
It has quite a bunch of implementations, in various languages.</p>
<!--
## m-ld

[m-ld](https://m-ld.org/doc/) is a specification that uses JSON-LD to enable real-time collaboration.
It is fundamentally decentralized -->
<h2 id="atomic-commits---how-its-different-and-why-it-exists"><a class="header" href="#atomic-commits---how-its-different-and-why-it-exists">Atomic Commits - how it's different and why it exists</a></h2>
<p>Let's talk about the differences between the concepts above and Atomic Commits.</p>
<p>For starters, Atomic Commits can only work with a <em>specific subset</em> of RDF, namely Atomic Data.
RDF allows for blank nodes, does not have subject-predicate uniqueness and offers named graphs - which all make it hard to unambiguously select a single value.
Most of the alternative patch / delta models described above had to support these concepts.
Atomic Data is more strict and constrained than RDF.
It does not support named graphs and blank nodes.
This enables a simpler approach to describing state changes, but it also means that Atomic Commits will not work with most existing RDF data.</p>
<p>Secondly, individual Atomic Commits are tightly coupled to specific Resources.
A single Commit cannot change multiple resources - and most of the models discussed above to enable this.
This is a big constraint, and it does not allow for things like compact migrations in a database.
However, this resource-bound constraint opens up some interesting possibilities:</p>
<ul>
<li>it becomes easier to combine it with <em>authorization</em> (i.e. check if the person has the correct rights to edit some resource): simply check if the Author has the rights to edit the Subject.</li>
<li>it makes it easier to find all Commits for a Resource, which is useful when constructing a history / audit log / previous version.</li>
</ul>
<p>Thirdly, Atomic Commits don't introduce a new serialization format.
It's just JSON.
This means that it will feel familiar for most developers, and will be supported by many existing environments.</p>
<p>Finally, Atomic Commits use cryptography (hashing) to determine authenticity of commits.
This concept is borrowed from git commits, which also uses signatures to prove authorship.
As is the case with git, this also allows for verifiable P2P sharing of changes.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/atomicdata-dev/atomic-data-docs/edit/main/src/commits/compare.md">Edit this page on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../commits/concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../websockets.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../commits/concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../websockets.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>


        <!-- Google Analytics Tag -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXVM8YFPWJ"></script>
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-XXVM8YFPWJ');
            }
        </script>


        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3" async defer>
        new Crate({
            server: '723588174747533393',
            channel: '723588175351513152',
        })
        </script>

    </body>
</html>
